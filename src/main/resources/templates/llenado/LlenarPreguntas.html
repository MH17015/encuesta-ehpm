<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Llenado de Preguntas</title>
    <div th:replace="base/general :: hojas_de_estilo"></div>
</head>

<body>
    <!-- Barra_de_navegación -->
    <div th:replace="base/general :: navbar(~{ :: .elementos})">
        <ul class="navbar-nav mr-auto elementos">           
        </ul>
    </div>
    <!-- Contenido_de_la_página -->
    <div class="container">


   <!-- Ruta del contendio -->
     <ol class="breadcrumb">
        <li class="breadcrumb-item">
           <a th:href="@{/}">Inicio</a>
        </li>
		    <li class="breadcrumb-item active">
		    	<a th:href="@{/llenado/administrar}">Llenado</a>
		    </li>
             <li class="breadcrumb-item active">
		    	<a th:href="@{/llenado/secciones/{id} (id=${id_encuesta})}">Secciones</a>
		    </li>
        	<li class="breadcrumb-item active">
		    	<a >Preguntas</a>
		    </li>
     </ol>

        <!-- Título de la pantalla -->
        <div th:replace="base/general :: titulo_pantalla(titulo=~{ :: .titulo}, btnPrincipal=~{ :: .btnPrincipal}, subTit=~{ :: .subTit})">
            <h2 class="titulo">Formulario</h2>
			<h5 class="subTit"></h5>
            <a
				class=" btnPrincipal"
			></a>
            <!-- <h5 class="subTit">Grupo:04</h5> -->
            <!-- <button class="btn btn-primary btnPrincipal"><i class="fas fa-plus"></i> Botón Principal</button>   -->
        </div>
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h5>Preguntas</h5>
                    </div>
                  
                    <div id="cardPregunta" class="card-body"th:each="pregunta : ${preguntas}"th:switch="${pregunta.tipo}">
                       <form id="formPreguntas" th:action="@{/llenado/preguntas/save}" th:object="${llenas}" method="POST" > 	
                        <div id="pregunta_seleccion" class="row-mb-2 " th:case="'seleccion'">
                             <hr>
							<input type="hidden" th:field="*{id}">
                            <div class="row-mb-2" >
                               <!-- <div class="form-group col-md-8" >-->
                                     
                                    <label class="d-block mb-0"for="pregunta" th:text="${pregunta.titulo}" ></label>            
                                    <small class="text-primary" for="descripcion" th:text="${pregunta.descripcion}" ></small>
                                <!--</div> -->
                               <!-- <div class="form-group col-md-4" >-->                                    
                               <!-- </div> -->
                            </div>
                            <div class="row-mb-2"  >
                                <div class="form-group col-md-12 mt-3" th:each="respuesta: ${pregunta.respuesta}" >
                                    <div class="radio" name="idRespuestas" >
            							<input type="hidden" >											    
                                        <input type="radio" th:attr="name = ${pregunta.id}"  value="1">
                                        <label class="form-check-label" th:text="${respuesta.respuesta}" > </label>
                                    </div>                                     
                                </div>                      
                            </div>                           
                        </div>                        

                        <div class="row-mb-2" th:case="'multiple'">
                        <hr>
                           <div class="row-mb-2" >
                               <!-- <div class="form-group col-md-8" >-->
                                    
                                    <label class="d-block mb-0"for="pregunta" th:text="${pregunta.titulo}"></label>            
                                    <small class="text-primary" for="descripcion" th:text="${pregunta.descripcion}"></small>
                                <!--</div> -->
                               <!-- <div class="form-group col-md-4" >-->                                    
                               <!-- </div> -->
                            </div>
                            <div class="row-mb-2" >
                                <div class="form-group col-md-12 mt-3" th:each="respuesta: ${pregunta.respuesta}" >
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="1" name="check[]" th:attr="id = ${respuesta.id}"  >
                                        <label class="form-check-label" th:attr="for = ${respuesta.id}" th:text="${respuesta.respuesta}"></label>
                                    </div>                                             
                                </div>                      
                            </div>                            
                        </div>
             
                        <div class="row-mb-2" th:case="'texto'">
                        <hr>
                           <div class="row-mb-2" >
                               <!-- <div class="form-group col-md-8" >-->
                                   
                                    <label class="d-block mb-0"for="pregunta" th:text="${pregunta.titulo}"></label>            
                                    <small class="text-primary" for="descripcion" th:text="${pregunta.descripcion}"></small>
                                <!--</div> -->
                               <!-- <div class="form-group col-md-4" >-->                                    
                               <!-- </div> -->
                            </div>
                            <div class="row-mb-2" >
                                <div class="form-group mt-3" >                                    
                                <input type="text" class="form-control" name="respuesta" placeholder="Respuesta" th:field="*{respuesta}">
                                </div>                      
                            </div>
                        </div>
                   

                  </div>
                  
                  <div class="card-footer ">
                  <button class="btn btn-dark" type="submit">Guardar</button>
                    <nav th:if="${preguntas.totalPages > 0}" aria-label="Page navigation example" class="float-right"  >
                        <ul class="pagination">
                            <li class="page-item"><a th:href="@{/llenado/preguntas/ (page=${preguntas.number - 1}) }" class="page-link">Anterior</a></li>
                            <li class="page-item"><a th:href="@{/llenado/preguntas(page=${preguntas.number + 1})}" class="page-link">Siguiente</a></li>
                        </ul>
                    </nav>
                  </div>
                 </form>
                </div>
    
 
    <div class="modal fade" id="visita" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Programar visita</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Seleccione una fecha:</label>
                            <input type="date" class="form-control" id="recipient-name" >
                        </div>                        
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-dark">Guardar</button>
                </div>
            </div>
        </div>
    </div>
    
   <!-- Scripts generales -->
  <div th:replace="base/general :: scripts"></div>
<script th:src="@{/js/llenado/llenado.js}" type="text/javascript"></script> 

</body>

</html>