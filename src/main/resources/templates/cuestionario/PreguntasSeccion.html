<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fomulario</title>
    <div th:replace="base/general :: hojas_de_estilo"></div>
</head>

<body>
    <!-- Barra_de_navegación -->
    <div th:replace="base/general :: navbar(~{ :: .elementos})">
        <ul class="navbar-nav mr-auto elementos">           
        </ul>
    </div>
    <!-- Contenido_de_la_página -->
    <div class="container">
   <!-- Ruta del contendio -->
     <ol class="breadcrumb">
         <li class="breadcrumb-item">
           <a th:href="@{/}">Inicio</a>
        </li>
        <li class="breadcrumb-item active">
			<a th:href="@{/encuesta/administrar}">Encuesta</a>
		</li>
		 <li class="breadcrumb-item active">
			<a th:href="@{/cuestionario/disenyo}">Secciones</a>
		</li>
        <li class="breadcrumb-item active">
			<a >Preguntas</a>
		</li>
     </ol>
        <!-- Título de la pantalla -->
        <div th:replace="base/general :: titulo_pantalla(titulo=~{ :: .titulo}, btnPrincipal=~{ :: .btnPrincipal}, subTit=~{ :: .subTit})">
            <h2 class="titulo">Preguntas de la Sección</h2>
			<h5 class="subTit">Unidad de Metodología</h5>
            <div class="btnPrincipal"></div>
            <!-- <h5 class="subTit">Grupo:04</h5> -->
            <!-- <button class="btn btn-primary btnPrincipal"><i class="fas fa-plus"></i> Botón Principal</button>   -->
        </div>
        <div class="row mb-4">
            <div class="col-md-9">
                <div class="card">
                    <div class="card-header">
                        <h5>Preguntas</h5>
                    </div>

                    <div id="cardPregunta" class="card-body"th:each="pregunta : ${preguntas}"th:switch="${pregunta.tipo}">
                        <div id="pregunta_seleccion" class="row-mb-2 " th:case="'seleccion'">
                             <hr>
                            <div class="row-mb-2" >
                               <!-- <div class="form-group col-md-8" >-->
                                    <div class=" float-right">
                                        <a  id="btnEliminar"  type="button" class="close float-right" th:attr="onclick=|eliminarPregunta('${pregunta.id}' )| ">&times;</a>    
                                    </div>  
                                    <label class="d-block mb-0"for="pregunta" th:text="${pregunta.titulo}"></label>            
                                    <small class="text-primary" for="descripcion" th:text="${pregunta.descripcion}"></small>
                                <!--</div> -->
                               <!-- <div class="form-group col-md-4" >-->                                    
                               <!-- </div> -->
                            </div>
                            <div class="row-mb-2"  >
                                <div class="form-group col-md-12 mt-3" th:each="respuesta: ${pregunta.respuesta}" >
                                    <div class="radio" >
                                        <input type="radio" th:attr="name = ${pregunta.id}"   disabled>
                                        <label class="form-check-label" th:text="${respuesta.respuesta}" > </label>
                                    </div>                                     
                                </div>                      
                            </div>                           
                        </div>                        

                        <div class="row-mb-2" th:case="'multiple'">
                        <hr>
                           <div class="row-mb-2" >
                               <!-- <div class="form-group col-md-8" >-->
                                    <div class=" float-right">
                                        <a  id="btnEliminar"  type="button" class=" close float-right" th:attr="onclick=|eliminarPregunta('${pregunta.id}' )| ">&times;</a>    
                                    </div>  
                                    <label class="d-block mb-0"for="pregunta" th:text="${pregunta.titulo}"></label>            
                                    <small class="text-primary" for="descripcion" th:text="${pregunta.descripcion}"></small>
                                <!--</div> -->
                               <!-- <div class="form-group col-md-4" >-->                                    
                               <!-- </div> -->
                            </div>
                            <div class="row-mb-2" >
                                <div class="form-group col-md-12 mt-3" th:each="respuesta: ${pregunta.respuesta}" >
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="" name="check[]" disabled>
                                        <label class="form-check-label"  th:text="${respuesta.respuesta}"></label>
                                    </div>                                             
                                </div>                      
                            </div>                            
                        </div>
             
                        <div class="row-mb-2" th:case="'texto'">
                        <hr>
                           <div class="row-mb-2" >
                               <!-- <div class="form-group col-md-8" >-->
                                   <div class=" float-right">
                                        <a  id="btnEliminar"  type="button" class=" close float-right" th:attr="onclick=|eliminarPregunta('${pregunta.id}' )| ">&times;</a>    
                                    </div>  
                                    <label class="d-block mb-0"for="pregunta" th:text="${pregunta.titulo}"></label>            
                                    <small class="text-primary" for="descripcion" th:text="${pregunta.descripcion}"></small>
                                <!--</div> -->
                               <!-- <div class="form-group col-md-4" >-->                                    
                               <!-- </div> -->
                            </div>
                            <div class="row-mb-2" >
                                <div class="form-group mt-3" >                                    
                                <input type="text" class="form-control" id="respuesta" name="respuesta" placeholder="Respuesta"  disabled >
                                </div>                      
                            </div>
                        </div>

                  </div>
                  
                  <div class="card-footer ">
                    <nav th:if="${preguntas.totalPages > 0}" aria-label="Page navigation example" class="float-right"  >
                        <ul class="pagination">
                            <li class="page-item"><a th:href="@{/pregunta/preguntas (page=${preguntas.number - 1})}" class="page-link">Anterior</a></li>
                            <li class="page-item"><a th:href="@{/pregunta/preguntas(page=${preguntas.number + 1})}" class="page-link">Siguiente</a></li>
                        </ul>
                    </nav>
                  </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header">
                        <h5>Menú de herramientas</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <button class="btn btn-outline-dark btn-block btn-modal" type="button" data-toggle="modal" data-target="#seleccion" data-whatever="@mdo">  <i class="fas fa-list-ul"></i> Selección múltiple</button>
                            <button class="btn btn-outline-dark btn-block btn-modal" type="button" data-toggle="modal" data-target="#multiple" data-whatever="@mdo"> <i class="fas fa-tasks"></i> Múltiples respuestas</button>
                            <button class="btn btn-outline-dark btn-block btn-modal" type="button" data-toggle="modal" data-target="#textoCorto" data-whatever="@mdo"> <i class="fas fa-pencil-alt"></i> Texto Corto</button>
                        </div>
                    </div>
                    <div class="card-footer">
                        <a th:href="@{/cuestionario/disenyo}" class="btn btn-dark btn-block" data-toggle="tooltip" data-placement="bottom">Finalizar sección</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pregunta de texto corto -->
    
    <div class="modal fade" id="textoCorto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Detalle de pregunta</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
               <div class="modal-body">
                    <form id="formModalPrg" th:action="@{/pregunta/texto/save}"  method="post">
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Título de la pregunta:</label>
                            
                            <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Escribe tu pregunta">
                        </div>
                        <div class="form-group">
                            <label for="descripcion" class="col-form-label">Descripción extra:</label>
                            <textarea class="form-control" id="descripcion" name="descripcion" rows="1" cols="50" placeholder="Añadir indicaciones"></textarea>                             
                        </div>
                        <label for="message-text" class="col-form-label">Respuesta:</label>   
                        <div id="modal_texto" class="form-group">                                                            
                                <input type="text" class="form-control" id="respuesta" name="respuesta" placeholder="Respuesta"  disabled >                                
                        </div>                                                                         
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-dark">Crear</button>
                    </div>                   
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pregunta de selección -->

    <div class="modal fade" id="seleccion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Detalle de pregunta</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formModalSelect" th:action="@{/pregunta/seleccion/save}"  method="post">
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label" th:field="*{titulo}">Título de la pregunta:</label>
                            <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Escribe tu pregunta">
                        </div>
                        <div class="form-group">
                            <label for="descripcion" class="col-form-label">Descripción extra:</label>
                            <textarea class="form-control" id="descripcion" name="descripcion" rows="1" cols="50" placeholder="Añadir indicaciones"></textarea>                             
                        </div>
                        <label for="message-text" class="col-form-label">Respuestas:</label>   
                        <div id="divModal" class="form-group">                            
                                <a id="btnClose" type="button" class="close float-right" th:attr="onclick=|eliminarElementoS('respuesta','btnClose' )|">&times;</a>
                                <input type="text" class="form-control" id="respuesta" name="respuesta" placeholder="Respuesta"   >                                
                        </div>                                                  
                        <a class="btn btn-outline-dark btn-block" id="btnModalSelect"> <i class="fas fa-plus"></i> Añadir respuesta</a>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-dark">Crear</button>
                    </div>                   
                    </form>
                </div>
               
            </div>
        </div>
    </div>

       <!-- Modal pregunta de múltiples respuestas-->

    <div class="modal fade" id="multiple" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Detalle de pregunta</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formModalMult" th:action="@{/pregunta/multiple/save}"  method="post">
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Título de la pregunta:</label>
                            <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Escribe tu pregunta">
                        </div>
                        <div class="form-group">
                            <label for="descripcion" class="col-form-label">Descripción extra:</label>
                            <textarea class="form-control" id="descripcion" name="descripcion" rows="1" cols="50" placeholder="Añadir indicaciones"></textarea>                             
                        </div>
                        <label for="message-text" class="col-form-label">Respuestas:</label>   
                        <div id="div_multiple" class="form-group">                            
                                <a id="btn_m" type="button" class="close float-right" th:attr="onclick=|eliminarMultiple('respuesta_m','btn_m )|">&times;</a>
                                <input type="text" class="form-control" id="respuesta_m" name="respuesta" placeholder="Respuesta"   >                                
                        </div>                                                  
                        <a class="btn btn-outline-dark btn-block" id="btnModalMultiple"> <i class="fas fa-plus"></i> Añadir respuesta</a>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-dark">Crear</button>
                    </div>                   
                    </form>
                </div>
               
            </div>
        </div>
    </div>
    
   <!-- Scripts generales -->
  <div th:replace="base/general :: scripts"></div>
  <script th:src="@{/js/cuestionario/preguntas.js}" type="text/javascript"></script>  
  <script th:src="@{/js/cuestionario/pregunta_mult.js}" type="text/javascript"></script>  
</body>

</html>